<svg xmlns="http://www.w3.org/2000/svg"
xmlns:xlink="http://www.w3.org/1999/xlink"
viewBox="0 0 450 300"
preserveAspectRatio="xMidYMid meet"
text-anchor="end"
font-family='Tahoma'>
	
	<defs>
		<clipPath id="clipPath">
			<rect x="-50" y="-120" width="400" height="250" />
		</clipPath>
		<g id='source'>
			<circle r='2' fill='yellow' stroke="green"/>
		</g>
	</defs>
	
	<g transform="translate(220 100)"> <!-- start of page -->
		
		<g id= "ray_diagram_3" transform="translate(0 0)">
			
			<g id="Secondary"  transform="translate(-180 0)">
				
				<g id="PathsDifarc" stroke="red" stroke-dasharray="5 5" fill='none'>
					<circle cx="380" cy="-90" r="385" clip-path="url(#clipPath)"/>
				</g>
				
				<g id="angleTheta" stroke="purple" stroke-dasharray="2 1" fill='none'>
					<path d="M200 0 A 200 200 0 0 0 194 -44"/>
				</g>
				
				<g id="MaxLines" >
					<path d="M 0 0 l 380 0" stroke="lightgrey"  />
					<path d="M 0 0 l 380 -90" stroke="lightgrey" stroke-dasharray="10 10"/>
				</g>
				
				
				<g id="Paths" stroke="green">
					<path d="M  0 -25 L 380 -90"/>
					<path d="M  0 25 L 380 -90"/>
					<use x="0" y="25" xlink:href="#source"/>
					<use x="0" y="-25" xlink:href="#source"/>
				</g>
				
				<!--g id="PathsDif" stroke="red" stroke-dasharray="5 5" transform="rotate(-13 0 -25)">
					<path d="M  0 -25 v 48"/>
				</g-->
				
				
				
				<g id="bariers" stroke-width = "1" stroke = "orange">
					<path  d="M 0 -30 v -100"/>
					<path  d="M 0 -20 v 40"/>
					<path  d="M 0 30 v 100"/>
				</g>
			</g>
			<text x="-190" y="-25">S<tspan style="baseline-shift: sub; font-size: small;">1</tspan> </text>
			<text x="-190" y="35">S<tspan style="baseline-shift: sub; font-size: small;">2</tspan> </text>
			<text x="-175" y="120">Q</text>
			<text x="-182" y="5">M</text>
			<text x="-155" y="35">K</text>
			<text x="40" y="-22">θ</text>
			<text x="20" y="20">D</text>
			
			<g id="Points" text-anchor="start" transform="translate(205 3)">
				
				<path  d="M -3 -150 v 300" stroke-width = "2" stroke = "lightgrey"/>
				
				<text y="0">P<tspan style="baseline-shift: sub; font-size: small;">0</tspan> </text>
				<text y="-90">P<tspan style="baseline-shift: sub; font-size: small;">1</tspan> </text>
				<text x = "3" y="-45">s</text>
				<text y="120">R</text>
			</g>
			
			<g id="trngl" transform="translate(50 65)">
				<path d="M 0 0 v 100" stroke="lightgrey"/>
				<circle cx="0" cy="50" r="80" style='fill:none; stroke:green;'/>
				
				<text x="-5" y="0">S<tspan style="baseline-shift: sub; font-size: small;">1</tspan> </text>
				<text x="-5" y="56">d</text>
				<text x="-5" y="100">S<tspan style="baseline-shift: sub; font-size: small;">2</tspan> </text>
				<text x="40" y="108">K</text>
				
				
				<g id="rightAngle"  transform="rotate(-13 0 0)">
					<path d="M 0 0 v 98" stroke="red" stroke-dasharray="10 10"/>
					<path d="M 0 98 h -23" stroke="green"/>
					<path d="M 0 0 h 50 M 0 98 h 50 " stroke="lightgreen"/>
					<use x="0" y="0" xlink:href="#source"/>
					<use x="-23" y="98" xlink:href="#source"/>
				</g>
			</g>
			
		</g> <!-- end of ray diagram-->
	</g> <!-- end of page-->
</svg>		